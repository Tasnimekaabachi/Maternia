{% extends 'base.html.twig' %}

{% block title %}Récupération - Maternia{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        /* On réutilise tes styles de login pour la cohérence */
        .login-page-wrapper {
            background: linear-gradient(-45deg, #e0c3fc, #fbc2eb, #a1c4fd, #c2e9fb);
            background-size: 400% 400%;
            animation: flowingGradient 15s ease infinite;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        @keyframes flowingGradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .auth-card {
            background: #ffffff;
            border-radius: 40px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
            padding: 50px 40px;
            width: 100%;
            max-width: 450px;
        }

        .welcome-title { color: #4a5568; font-weight: 700; font-size: 1.8rem; }
        .welcome-title span { color: #d53f8c; }
        
        .label-custom { 
            font-size: 0.8rem; 
            font-weight: 700; 
            color: #718096; 
            text-transform: uppercase; 
            margin-bottom: 8px; 
            display: block; 
        }

        .form-control {
            background-color: #f7fafc !important;
            border: 2px solid transparent !important;
            border-radius: 15px !important;
            padding: 15px 20px !important;
            transition: all 0.3s ease !important;
        }

        .btn-login {
            background: linear-gradient(90deg, #ff6b8b 0%, #f06292 100%);
            border: none;
            border-radius: 20px;
            color: white;
            font-weight: 700;
            padding: 15px;
            margin-top: 20px;
            box-shadow: 0 10px 20px rgba(255, 107, 139, 0.3);
        }
    </style>
{% endblock %}

{% block body %}
<div class="login-page-wrapper">
    <div class="auth-card">
        <div class="text-center mb-5">
            <h2 class="welcome-title">Oubli de <span>mot de passe ?</span></h2>
            <p class="text-muted small">Entrez votre email pour recevoir un nouveau code.</p>
        </div>

        {# Affichage des messages de succès ou d'erreur #}
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="alert alert-{{ label == 'error' ? 'danger' : 'success' }} rounded-3 small text-center mb-4">
                    {{ message }}
                </div>
            {% endfor %}
        {% endfor %}

        <form method="post" novalidate>
            <div class="mb-4">
                <label for="email" class="label-custom">Votre Email</label>
                <input type="email" name="email" id="email" class="form-control" required autofocus placeholder="maman@exemple.com">
            </div>

            <button class="btn btn-login w-100" type="submit">
                Envoyer le nouveau mot de passe <i class="fas fa-paper-plane ms-2"></i>
            </button>

            <div class="text-center mt-4">
                <a href="{{ path('app_login') }}" class="small fw-bold text-decoration-none" style="color: #d53f8c;">
                    <i class="fas fa-arrow-left me-1"></i> Retour à la connexion
                </a>
            </div>
        </form>
    </div>
</div>
{% endblock %}