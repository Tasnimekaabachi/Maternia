{% extends 'admin/base.html.twig' %}

{% block title %}Marketplace{% endblock %}
{% block page_title %}Marketplace{% endblock %}

{% block stylesheets %}
<style>
    .search-box { position: relative; display: flex; align-items: center; }
    .search-box i { position: absolute; left: 12px; color: #9ca3af; font-size: 0.85rem; }
    .search-input {
        border: 2px solid #e5e7eb; border-radius: 25px; padding: 6px 14px 6px 34px;
        font-size: 0.85rem; width: 180px; transition: all 0.3s; outline: none; background: #fafbfc;
    }
    .search-input:focus { border-color: #FF8AAB; width: 240px; background: white; }
</style>
{% endblock %}

{% block breadcrumb %}
    <div class="admin-breadcrumb">
        <a href="{{ path('admin_dashboard') }}">Backoffice</a>
        <span>/</span>
        <span>Marketplace</span>
    </div>
{% endblock %}

{% block header_actions %}
    <button type="button" class="btn btn-primary admin-btn-primary">
        <i class="fas fa-plus me-1"></i> Ajouter un produit
    </button>
{% endblock %}

{% block content %}
    <div class="admin-card">
        <div class="admin-card-header d-flex justify-content-between align-items-center">
            <span>Produits & services</span>
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="adminSearch" class="search-input" placeholder="Rechercher...">
            </div>
        </div>
        <div class="admin-card-body p-0">
            <div class="table-responsive">
                <table class="admin-table">
                    <thead>
                        <tr>
                            <th>Produit / Service</th>
                            <th>Cat√©gorie</th>
                            <th>Prix</th>
                            <th>Statut</th>
                            <th width="120"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td colspan="5">
                                <div class="admin-empty py-4">
                                    <i class="fas fa-shopping-bag"></i>
                                    <p>Aucun produit ou service pour le moment.</p>
                                    <button type="button" class="btn btn-primary admin-btn-primary">Ajouter un produit</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
<script>
    const adminSearch = document.getElementById('adminSearch');
    if (adminSearch) {
        adminSearch.addEventListener('input', function() {
            const q = this.value.toLowerCase();
            document.querySelectorAll('.admin-table tbody tr').forEach(row => {
                if (row.querySelector('.admin-empty')) return;
                row.style.display = row.textContent.toLowerCase().includes(q) ? '' : 'none';
            });
        });
    }
</script>
{% endblock %}
